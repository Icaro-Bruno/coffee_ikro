<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Card√°pio</title>
    <link rel="stylesheet" th:href="@{/cardapio.css}">
    <link href="https://fonts.googleapis.com/css2?family=Merienda:wght@300..900&display=swap" rel="stylesheet">
</head>

<body>

<header>
    <button id="menu-toggle">‚ò∞</button>

    <nav id="menu" class="hidden">
        <ul>
            <li><a href="#">Pedir Via Whatsapp</a></li>
            <li><a href="#">Promo√ß√µes</a></li>
        </ul>
    </nav>

    <div id="carrinho">
        üõí <span id="carrinho-count">0</span>
    </div>
</header>

<h1>Nosso Card√°pio</h1>

<div class="categorias-filtros">
    <button class="categoria-botao" data-categoria="comidas">Comidas</button>
    <button class="categoria-botao" data-categoria="bebidas">Bebidas</button>
    <button class="categoria-botao" data-categoria="sobremesas">Sobremesas</button>
</div>

<!-- S√≥ uma div de cardapio-container -->
<div class="cardapio-container">
    <div class="item" th:each="produto : ${produtos}" th:attr="data-categoria=${produto.categoria}">
        <div class="item-header">
            <h3 th:text="${produto.nome}">Nome do Produto</h3>
            <p id="preco">[[${produto.precoFormatado}]]</p>
        </div>
        <img th:src="${produto.imgUrl}" alt="Imagem do Produto" class="banner">
        <!--<p th:text="${produto.descricao}">Descri√ß√£o</p>-->
        <a href="#" class="botao">Adicionar</a>
    </div>
</div>

<!--MENU-->
<script>
    const toggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');

    toggle.addEventListener('click', () => {
        menu.classList.toggle('show');
    });
</script>

<!--CARRINHO-->
<script>
    let count = 0;
    const carrinhoCount = document.getElementById('carrinho-count');

    // Como os bot√µes "Adicionar" s√£o criados dinamicamente, espere o DOM carregar
    document.addEventListener('DOMContentLoaded', () => {
        const botoesAdicionar = document.querySelectorAll('.botao');

        botoesAdicionar.forEach(botao => {
            botao.addEventListener('click', () => {
                count++;
                carrinhoCount.textContent = count;
            });
        });
    });
</script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const botoesCategoria = document.querySelectorAll('.categoria-botao');
        const itens = document.querySelectorAll('.item');

        botoesCategoria.forEach(botao => {
            botao.addEventListener('click', () => {
                const categoria = botao.getAttribute('data-categoria');

                itens.forEach(item => {
                    if (item.getAttribute('data-categoria') === categoria || categoria === 'todos') {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });
    });
</script>

</body>
</html>
